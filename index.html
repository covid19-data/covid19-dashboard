<!DOCTYPE html>
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-46647600-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-46647600-3');
  </script>
  <meta charset="utf-8">
  <title>Coronavirus Trend Visualization</title>
  <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
  <aside>
    <div id="sidebar">
      <div style="margin-top:100px"></div>
      <a href="#h2trend">Trend</a>
      <a href="#h2cfr">Fatality</a>
    </div>
  </aside>

  <div id="wrapper">
    <header>
      <h1>COVID-19 Trend Visualizations</h1>
    </header>
    <div id="trend-viz">
      <a class="anchor" name="h2trend">Case trends</a>
      <h2>Case Trend</h2>
      <div id="trend_swatch"></div>
      <div class="sidenote">
        <div id="viewof-y_type" class="viewof"></div>
        <div id="viewof-pivot_n" class="viewof"></div>
        <div id="viewof-num_days" class="viewof"></div>
        <div id="viewof-doubling_periods" class="viewof"></div>
        <div id="viewof-selected_regions" class="viewof"></div>
        <p>This visualization shows the growth in the number of cases in log-linear scale. A straight line indicates that the growth is exponential and double every X days. You can set the number of days to include in calculating the trend by using the slider. </p>

        <p>Improve this visualization on ObservableHQ: <a href="https://observablehq.com/@yy/covid-19-spreading-trends">https://observablehq.com/@yy/covid-19-spreading-trends</a></p>
      </div>
      <div id="trend_chart"></div>
    </div>
    <div id="CFR-viz">
      <a class="anchor" name="h2cfr">Case Fatality Rate</a>
      <h2>Case Fatality Rate</h2>
      <div style="clear:both"></div>
      <div id="viewof-radius_type"></div>
      <div id="viewof-curr_date"></div>
      <div style="clear:both"></div>
      <div class="sidenote">
        <p>This visualization shows the temporal evolution of national-level confirmed cases and the number of deaths, for the countries with at least one death. You can <strong>mouse-over</strong> to see the past trajectory.</p> 

        <p>Please note that the case fatality is affected by various factors, particularly <em>at the early stage of the outbreak</em>. First of all, the progression from contracting the disease to death takes time. Therefore, the fatality rate would increase for a while even after the number of cases stop increasing. Also the early-stage fatality rate may either be <em>underestimated</em> if there are aggressive testing (many early detected cases, but not yet progressed to deaths) or <em>overestimated</em> (deaths occur before adequate testing can be done).</p> 

        <p>Because of strong age-related fatality rate variance, population structure (e.g. Italy has more elderly population than South Korea, although <a href="https://www.reddit.com/r/dataisbeautiful/comments/fj0eef/oc_coronavirus_death_rate_by_age_italy_vs_china/">this is not enough to explain the high fatality in Italy</a>) or the nature of early clustered outbreaks (e.g. <a href="https://en.wikipedia.org/wiki/2020_coronavirus_pandemic_in_South_Korea#18_February%E2%80%93present_outbreak">South Korea</a> vs. <a href="https://en.wikipedia.org/wiki/Life_Care_Centers_of_America#Kirkland,_Washington_COVID-19_outbreak">US</a>) may significantly affect the case fatality rate, especially at the early stage.</p>

        <p>Yet, fatality rate is an important indicator that reflects many serious scenarios that require attention, such as (i) large, undetected community spreading, (ii) extreme stress to the healthcare system (more preventable deaths), or (iii) emergence of more aggressive subtype.</p>

        <p>Improve this visualization on ObservableHQ: <a href="https://observablehq.com/@yy/covid-19-fatality-rate">https://observablehq.com/@yy/covid-19-fatality-rate</a></p>
      </div>
      <div id="chart"></div>
      <div id="swatch" style="margin-bottom: 20px;"></div>
    </div>
    <div style="clear:both"></div>
    <footer>
      <div id="explanation">
        <p>These visualizations are created by <a href="https://yongyeol.com/">YY Ahn</a> (<a href="https://twitter.com/yy">@yy</a>) and <a href="https://www.linkedin.com/in/sina-kianersi-b311b3b1/">Sina Kianersi</a> (<a href="https://twitter.com/sina_kianersi">@sina_kianersi</a>) at the <a href="https://www.indiana.edu">Indiana University Bloomington</a>. The visualization is built on <a href="https://observablehq.com/@mbostock/the-wealth-health-of-nations">the recreation of GapMinder visualization</a> by <a href="https://observablehq.com/@mbostock">@mbostock</a>.</p>

        <ul>
          <li>Contributors: <a href="https://twitter.com/alphastanley">@alphastanley</a></li>
          <li>You can check out the source code on ObservableHQ: <a href="https://observablehq.com/@yy/covid-19-fatality-rate">https://observablehq.com/@yy/covid-19-fatality-rate</a> and <a href="https://observablehq.com/@yy/covid-19-spreading-trends">https://observablehq.com/@yy/covid-19-spreading-trends</a></li>
          <li>Data and workflow: <a href="https://github.com/yy/covid19-data">https://github.com/yy/covid19-data</a></li>
        </ul>
      </div>
    </footer>
  </div>
  <script type="module">

    // Load the Observable runtime and inspector.
    import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";

// Your notebook, compiled as an ES module.
import notebook1 from "https://api.observablehq.com/@yy/covid-19-fatality-rate.js?v=3";
import notebook2 from "https://api.observablehq.com/@yy/covid-19-spreading-trends.js?v=3";

const renders1 = {
  "viewof curr_date": "#viewof-curr_date",
  "viewof radius_type": "#viewof-radius_type",
  "swatch": "#swatch",
  "chart": "#chart",
}

const renders2 = {
  "viewof y_type": "#viewof-y_type",
  "viewof pivot_n": "#viewof-pivot_n",
  "viewof num_days": "#viewof-num_days",
  "viewof doubling_periods": "#viewof-doubling_periods",
  "viewof selected_regions": "#viewof-selected_regions",
  "chart": "#trend_chart",
  //"swatch": "#trend_swatch",
}

// Load the notebook, observing its cells with a default Inspector
// that simply renders the value of each cell into the provided DOM node.
const runtime1 = new Runtime();
const main1 = runtime1.module(notebook1, name => {
  const selector = renders1[name];
  if (selector) {
    return new Inspector(document.querySelector(selector));
  } else {
    return true;
  }
});

const runtime2 = new Runtime();
const main2 = runtime2.module(notebook2, name => {
  const selector = renders2[name];
  if (selector) {
    return new Inspector(document.querySelector(selector));
  } else {
    return true;
  }
});

  </script>

